@using Shared.Models
@inherits WorldExplorerAuthBaseComponent
@page "/admin"
@attribute [Authorize(Policy = "IsAdministrator")]
@attribute [StreamRendering()]

<AuthorizeView>
	<Authorized>
		<MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
            <MudTabPanel Text="Places">
                <MudButton OnClick="ClearPlaces">Clear places</MudButton>

                		<MudTable Items="@places" Breakpoint="Breakpoint.Sm" T="Place">
                			<HeaderContent>
                				<MudTh>Name</MudTh>
                				<MudTh>Location</MudTh>
                				<MudTh>Rating</MudTh>
                				<MudTh>Images count</MudTh>
                			</HeaderContent>
                			<RowTemplate>
                				<MudTd DataLabel="Name">@context.Name</MudTd>
                				<MudTd DataLabel="Location">@context.Location</MudTd>
                				<MudTd DataLabel="Rating">@context.Rating</MudTd>
                				<MudTd DataLabel="Images count">@context.Images.Count</MudTd>
                			</RowTemplate>
                		</MudTable>
            </MudTabPanel>
            <MudTabPanel Text="Users">
                <MudTable Items="@users" Breakpoint="Breakpoint.Sm" T="User">
                	<HeaderContent>
                		<MudTh>Id</MudTh>
                		<MudTh>Name</MudTh>
                		<MudTh>Email</MudTh>
                	</HeaderContent>
                	<RowTemplate>
                		<MudTd DataLabel="Id">@context.Id</MudTd>
                		<MudTd DataLabel="Name">@context.Name</MudTd>
                		<MudTd DataLabel="Email">@context.Email</MudTd>
                	</RowTemplate>
                </MudTable>
            </MudTabPanel>
        </MudTabs>
	</Authorized>
</AuthorizeView>