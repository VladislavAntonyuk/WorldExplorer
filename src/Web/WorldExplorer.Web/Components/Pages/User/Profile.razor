@page "/identity/account/manage"
@inherits WorldExplorerAuthBaseComponent
@attribute [Authorize]

@if (user is null)
{
	<LoadingControl/>
}
else
{
	<MudExpansionPanels MultiExpansion="true">
		<MudExpansionPanel Text="@Translation.Profile" Expanded="true">
			<MudText>@user.Name</MudText>
			<MudCheckBox T="bool" @bind-Value="@user.Settings.TrackUserLocation" Label="@Translation.TrackUserLocation"/>
			<MudButton OnClick="SaveChanges" Color="Color.Primary" ButtonType="ButtonType.Button">@Translation.SaveChanges</MudButton>
		</MudExpansionPanel>
		<MudExpansionPanel Text="@Translation.DangerZone" Expanded="true" class="mt-1">
			<MudButton OnClick="DeleteAccount" Color="Color.Error" ButtonType="ButtonType.Button">@Translation.DeleteAccount</MudButton>
		</MudExpansionPanel>
	</MudExpansionPanels>
}